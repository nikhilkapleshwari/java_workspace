package com.service;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.MalformedURLException;
import java.net.ProtocolException;
import java.util.ArrayList;
import java.util.List;

import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;

public class RestService {

	@SuppressWarnings("resource")
	public static int hit(final String userName,final String vCode,final String endpoint) {
	
		try {
			@SuppressWarnings("deprecation")
			HttpClient client = new DefaultHttpClient();
			  HttpPost post = new HttpPost(endpoint);
			  List nameValuePairs = new ArrayList(2);
			  nameValuePairs.add(new BasicNameValuePair("userName",userName)); //you can as many name value pair as you want in the list.
			  nameValuePairs.add(new BasicNameValuePair("vCode",vCode));
			  post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
			  HttpResponse response = client.execute(post);
			  BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
			  String line = "";
			  while ((line = rd.readLine()) != null) {
			   System.out.println(line);
			  }
			  
		} catch (MalformedURLException e) {
			//e.printStackTrace();
		} catch (ProtocolException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}finally {
			return 0;
		}
		
	}
}
